<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Help · CARMI</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;blockquote&gt;
&lt;p&gt;This project is still in it&#x27;s infancy. So if you encounter a bug, please submit an &lt;a href=&quot;https://github.com/wix-incubator/carmi/issues/new&quot;&gt;issue&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Help · CARMI"/><meta property="og:type" content="website"/><meta property="og:url" content="https://carmi.js.org/index.html"/><meta property="og:description" content="&lt;blockquote&gt;
&lt;p&gt;This project is still in it&#x27;s infancy. So if you encounter a bug, please submit an &lt;a href=&quot;https://github.com/wix-incubator/carmi/issues/new&quot;&gt;issue&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="/runkit.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo.png" alt="CARMI"/><h2 class="headerTitleWithLogo">CARMI</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/introduction/getting-started.html" target="_self">Getting started</a></li><li class="siteNavGroupActive"><a href="/docs/introduction/design.html" target="_self">Design</a></li><li class="siteNavGroupActive"><a href="/docs/api/api.html" target="_self">API Reference</a></li><li class="siteNavGroupActive siteNavItemActive"><a href="/docs/help.html" target="_self">Help</a></li><li class=""><a href="https://github.com/wix-incubator/carmi" target="_self">GitHub</a></li><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search" title="Search"/></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Help</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Introduction<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/introduction/getting-started.html">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/derived-state.html">Derived state</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/reactions.html">Reactions</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/batching.html">Batching</a></li><li class="navListItem"><a class="navItem" href="/docs/introduction/design.html">Design</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Documentation<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/api/intro.html">Intro</a></li><li class="navListItem"><a class="navItem" href="/docs/api/api.html">Api Reference</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Help<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/help.html">Help</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/wix-incubator/carmi/edit/master/docs/help.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 class="postHeaderTitle">Help</h1></header><article><div><span><blockquote>
<p>This project is still in it's infancy. So if you encounter a bug, please submit an <a href="https://github.com/wix-incubator/carmi/issues/new">issue</a>.</p>
</blockquote>
<p>A very convenient way to inspect your derivations is to add a <code>tap</code> method
that creates a scope where you can either call the <code>debugger</code> or use <code>console.log()</code>
to inspect the value in the part that it is interesting:</p>
<pre><code class="hljs css language-js"><span class="hljs-keyword">const</span> initialState = { <span class="hljs-attr">a</span>: <span class="hljs-number">1</span> }
<span class="hljs-keyword">const</span> { root } = <span class="hljs-built_in">require</span>(<span class="hljs-string">'carmi'</span>)

<span class="hljs-keyword">const</span> instance = createInstance({
    <span class="hljs-attr">output</span>: root.call(<span class="hljs-string">'tap'</span>).get(<span class="hljs-string">'a'</span>)
}, initialState, {
    <span class="hljs-attr">tap</span>: <span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> {
        <span class="hljs-built_in">console</span>.log(val); <span class="hljs-comment">//or debugger;</span>
        <span class="hljs-keyword">return</span> val;
    }
})

instance.output <span class="hljs-comment">//1</span>
</code></pre>
<p>If your derived state is incorrect but when using the simple compiler everything is working.
It might be the case that your state or derivations are being mutated directly and not trough Carmi's <a href="/docs/api/api.html#setterpath">setters</a>.
Always treat your derivations as <strong>readonly</strong> including anything passed to <strong><a href="/docs/api/api.html#callfunc-args">call()</a></strong>.</p>
<blockquote>
<p>Note: A good way to enforce readonly access this is to use <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a>
to make the model readonly in debug mode</p>
</blockquote>
<blockquote>
<p>To ease debugging: The names of the non exported top level values are based on the filename and line number where they are defined.</p>
</blockquote>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/api/api.html"><span class="arrow-prev">← </span><span>Api Reference</span></a></div></div></div><nav class="onPageNav"></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"></a><div><h5>Docs</h5><a href="/docs/en/introduction/getting-started.html">Getting Started</a><a href="/docs/en/introduction/design.html">Design</a><a href="/docs/en/api/api.html">API Reference</a><a href="/docs/en/help.html">Help</a></div><div><h5>More</h5><a href="https://github.com/wix-incubator/carmi">GitHub</a><a class="github-button" href="https://github.com/wix-incubator/carmi" data-icon="octicon-star" data-count-href="/wix-incubator/carmi/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2019 Wix</section></footer></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
                document.addEventListener('keyup', function(e) {
                  if (e.target !== document.body) {
                    return;
                  }
                  // keyCode for '/' (slash)
                  if (e.keyCode === 191) {
                    const search = document.getElementById('search_input_react');
                    search && search.focus();
                  }
                });
              </script><script>
              var search = docsearch({
                
                apiKey: '1dbbf069466ac915506a8f3859639c9f',
                indexName: 'wix_carmi',
                inputSelector: '#search_input_react'
              });
            </script></body></html>